{"title":"在C#中指定编译版本","uid":"93a170a0715d8b30cbd9c078c88d0425","slug":"CSharpLangVersion","date":"2023-02-06T14:00:13.000Z","updated":"2023-02-06T14:01:53.243Z","comments":true,"path":"api/articles/CSharpLangVersion.json","keywords":null,"cover":null,"content":"<h1 id=\"C-开发过程中，使用特定的语言版本编译程序\"><a href=\"#C-开发过程中，使用特定的语言版本编译程序\" class=\"headerlink\" title=\"C#开发过程中，使用特定的语言版本编译程序\"></a>C#开发过程中，使用特定的语言版本编译程序</h1><p>作为初学者，在C#开发过程中一直困扰我的就是：<br>我写好了程序，要发给其他人，但是！其他人电脑没有安装.NET6 无法直接运行<br>我很想直接把程序编译成4.7.2版本的CLR（Win10以上都自带472了） 但是在VS里面死活没有472这个选项<br>看了微软文档，了解到TargetFrameworkVersion，试着写了</p>\n<pre class=\"line-numbers language-XML\" data-language=\"XML\"><code class=\"language-XML\">&lt;TargetFrameworkVersion&gt;v4.7.2&lt;&#x2F;TargetFrameworkVersion&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>但是不管是472还是4.8还是不太行，看了看StackOverFlow和百度一圈都没有发现解决方案<br>后来发现了 除了<code>&lt;TargetFrameworkVersion&gt;</code> 还有一个<code>&lt;TargetFramework&gt;</code>就试着去查查有没有相关的资料<br>最后在SunnieShine大佬的<a href=\"https://www.bilibili.com/read/cv14099613/\" title=\"《第 66 讲：C# 新语法的基本介绍》\">《第 66 讲：C# 新语法的基本介绍》</a>中找到了用法，这里我直接摘抄过来</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>3-2 TargetFramework 元素<br>介绍完 LangVersion 元素后，我们来说一下它上面的这个 TargetFramework 元素。这个可能不像是 LangVersion 一样可有可无，它总是显式给出，表示当前这个程序用的是什么版本的框架。刚才我们说到，.NET 有四种不同的框架类别，对应的书写格式是这样的：<br>.NET Framework：记作 net数值，其中“数值”就是写版本号，不过小数点全部省略。比如 .NET Framework 4.7.2 框架写法是 net472；<br>.NET Core：记作 netcoreapp数值，其中“数值”也是写版本号，但不省略小数点。比如 .NET Core 3.1 框架写法是 netcoreapp3.1；<br>.NET Standard：记作 netstandard数值，其中“数值”也是写版本号，但不省略小数点。比如 .NET Standard 2.0 框架写法是 netstandard2.0；<br>.NET：记作 net数值，其中“数值”也是写版本号，但不省略小数点。比如 .NET 5 框架写法是 net5.0。<br>我们可以参照这个格式，然后看看你的电脑安装了什么版本的 .NET 框架，然后就把该框架写上去。不过按道理来说，你在创建项目和解决方案的时候，会让你选择，因此这一项很少自己去配置和修改它，除非你安装了新框架之后想要手动修改。<br>还有一些别的数值可以填入进去，只不过这些会涉及到跨平台，而教程只涉及 C# 语法内容，因此这里不展开说明。想了解可以查看 MSDN 官方文档程序框架修改的相关内容。<br><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/frameworks\">https://docs.microsoft.com/en-us/dotnet/standard/frameworks</a></p></blockquote>\n<p>直接在里面写版本号就行了 不过要对应上面的写法</p>\n<pre class=\"line-numbers language-XML\" data-language=\"XML\"><code class=\"language-XML\">&lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;net472&lt;&#x2F;TargetFramework&gt;\n&lt;&#x2F;PropertyGroup&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>同时，还学到了使用LangVersion标记，在老版本的net中使用新版本的语法</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>4-1 LangVersion 填值超过框架支持版本<br>这种情况按理说是不允许的，但其实解决方案仍然允许我们这么做。新版的语法大概就只有两种类型：</p></blockquote>\n<ul>\n<li>语法上更新了，但它等于是一句或多句代码的简化写法（语法糖）；</li>\n<li>从底层更新了，语法本身和框架的底层 API 绑定起来才能起效。</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>所有的新语法不外乎就这两类情况。如果属于后者的话，这个语法可能你就无法使用，因为当前框架没有这样的 API，导致你无法使用这个语法来运行操作程序；但如果属于前者的话，那么编译器自动会被翻译成低阶的语法，但这些语法显然底层就支持也不依赖额外的 API，所以它跟框架版本本身没有特殊的关联。<br>说这个干什么呢？我是在告诉你，如果你这么去修改配置文件的话，虽然是 Visual Studio 自己是允许你这么做的，但是部分新语法属于第二种情况，因而导致你无法正常使用它。那么具体是哪些新语法呢？这个得我们讲到这些语法的时候你才会知道了。</p></blockquote>\n","feature":true,"text":"C#开发过程中，使用特定的语言版本编译程序作为初学者，在C#开发过程中一直困扰我的就是：我写好了程序，要发给其他人，但是！其他人电脑没有安装.NET6 无法直接运行我很想直接把程序编译成4.7.2版本的CLR（Win10以上都自带472了） 但是在VS里面死活没有472这个选项看...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"CSharp","slug":"CSharp","count":1,"path":"api/categories/CSharp.json"},{"name":"编程","slug":"CSharp/编程","count":1,"path":"api/categories/CSharp/编程.json"}],"tags":[{"name":"CSharp","slug":"CSharp","count":1,"path":"api/tags/CSharp.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#C-%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%89%B9%E5%AE%9A%E7%9A%84%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC%E7%BC%96%E8%AF%91%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">C#开发过程中，使用特定的语言版本编译程序</span></a></li></ol>","author":{"name":"Akizon","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"什么都想学的闲鱼","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"使用Github+Cloudflare+Hexo搭建个人博客","uid":"73bf9ac22d3e16c14700745059a9a032","slug":"use-Github-CloudFlare-Hexo-Build-a-website","date":"2023-02-06T06:10:16.000Z","updated":"2023-02-06T06:14:47.217Z","comments":true,"path":"api/articles/use-Github-CloudFlare-Hexo-Build-a-website.json","keywords":null,"cover":null,"text":"前言记录一次使用Hexo+Github+Cloud Flare部署静态博客的过程 1.新建一个仓库 名字随意在Github主页新建仓库，名字随意（不需要名字为 xxxx.github.io） 2.安装Hexo*先安装Node安装完找一个地方新建一个文件夹（例：C:\\Blog），用...","link":"","photos":[],"count_time":{"symbolsCount":954,"symbolsTime":"1 mins."},"categories":[{"name":"教程","slug":"教程","count":1,"path":"api/categories/教程.json"}],"tags":[{"name":"Github","slug":"Github","count":1,"path":"api/tags/Github.json"},{"name":"CloudFlare","slug":"CloudFlare","count":1,"path":"api/tags/CloudFlare.json"},{"name":"Hexo","slug":"Hexo","count":1,"path":"api/tags/Hexo.json"},{"name":"Blog","slug":"Blog","count":1,"path":"api/tags/Blog.json"}],"author":{"name":"Akizon","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"什么都想学的闲鱼","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}